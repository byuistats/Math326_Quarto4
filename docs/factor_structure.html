<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Math326 Notebook - Factor Structure</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Math326 Notebook</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-basics-of-design" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Basics of Design</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-basics-of-design">    
        <li>
    <a class="dropdown-item" href="./key_principles.html" rel="" target="">
 <span class="dropdown-text">Key Principles</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./research_objectives.html" rel="" target="">
 <span class="dropdown-text">Research Objectives</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./response_variable.html" rel="" target="">
 <span class="dropdown-text">Response Variable</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./experimental_units.html" rel="" target="">
 <span class="dropdown-text">Experimental Units</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sources_of_variances.html" rel="" target="">
 <span class="dropdown-text">Sources of Variation - Factors and Conditions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./randomization.html" rel="" target="">
 <span class="dropdown-text">Randomization</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-specific-designs" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Specific Designs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-specific-designs">    
        <li>
    <a class="dropdown-item" href="./BasicFactorial_intro.html" rel="" target="">
 <span class="dropdown-text">Basic Factorial Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./BasicFactorial_quarto_boat.html" rel="" target="">
 <span class="dropdown-text">BF[1]</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./bf2.html" rel="" target="">
 <span class="dropdown-text">BF[2]</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./bf3.html" rel="" target="">
 <span class="dropdown-text">BF[3+]</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./block_intro.html" rel="" target="">
 <span class="dropdown-text">Blocking Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./cb1.html" rel="" target="">
 <span class="dropdown-text">CB[1]</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./ancova.html" rel="" target="">
 <span class="dropdown-text">ANCOVA</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./latin_square.html" rel="" target="">
 <span class="dropdown-text">Latin Square</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./NestedFactor.html" rel="" target="">
 <span class="dropdown-text">Nested Factor (aka Split Plot/Repeated Measure) Designs</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-broad-topics" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Broad Topics</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-broad-topics">    
        <li>
    <a class="dropdown-item" href="./factor_structure.html" rel="" target="">
 <span class="dropdown-text">Factor Structure</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./effects_model.html" rel="" target="">
 <span class="dropdown-text">Effects Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Anova_F-test.html" rel="" target="">
 <span class="dropdown-text">ANOVA and the F-test</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assumptions.html" rel="" target="">
 <span class="dropdown-text">Assumptions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./contrast.html" rel="" target="">
 <span class="dropdown-text">Contrasts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./multiple_comparisons.html" rel="" target="">
 <span class="dropdown-text">Multiple Comparisons</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./unbalanced.html" rel="" target="">
 <span class="dropdown-text">Unbalanced Datasets</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Kruskal.html" rel="" target="">
 <span class="dropdown-text">ZPower??</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./LogisticRegression.html" rel="" target="">
 <span class="dropdown-text">ZRandom Factors??</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-r-instructions" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">R Instructions</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-r-instructions">    
        <li>
    <a class="dropdown-item" href="./DescribeData.html" rel="" target="">
 <span class="dropdown-text">Descriptive Summaries</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./diagnostics.html" rel="" target="">
 <span class="dropdown-text">Model diagnostics</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-datasets" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Datasets</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-datasets">    
        <li>
    <a class="dropdown-item" href="././Data/AnalysisRubric.html" rel="" target="">
 <span class="dropdown-text">XYZ</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="././Data/StudentHousing.html" rel="" target="">
 <span class="dropdown-text">yadda yadda</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#identifying-and-diagramming-factors" id="toc-identifying-and-diagramming-factors" class="nav-link active" data-scroll-target="#identifying-and-diagramming-factors">Identifying and Diagramming Factors</a></li>
  <li><a href="#describing-factor-relationships" id="toc-describing-factor-relationships" class="nav-link" data-scroll-target="#describing-factor-relationships">Describing Factor Relationships</a>
  <ul class="collapse">
  <li><a href="#inside-and-outside" id="toc-inside-and-outside" class="nav-link" data-scroll-target="#inside-and-outside">Inside and Outside</a></li>
  <li><a href="#crossed-factors" id="toc-crossed-factors" class="nav-link" data-scroll-target="#crossed-factors">Crossed Factors</a></li>
  </ul></li>
  <li><a href="#general-rules" id="toc-general-rules" class="nav-link" data-scroll-target="#general-rules">General Rules</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Factor Structure</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<script type="text/javascript">
 function showhide(id) {
    var e = document.getElementById(id);
    e.style.display = (e.style.display == 'block') ? 'none' : 'block';
 }
</script>
<p>In this section you will learn about factors in context of analyzing results of an experiment:</p>
<ul>
<li>How to identify factors</li>
<li>A method for diagramming factors. This method for diagramming factors should help provide a more visual understanding of how the design is related to the analysis of an experiment</li>
<li>A vocabulary to describe how factors are related to one another.</li>
</ul>
<section id="identifying-and-diagramming-factors" class="level1 page-columns page-full">
<h1>Identifying and Diagramming Factors</h1>
<p>To begin, consider a particular example. Researchers were interested in comparing the effectiveness of certain types of toothbrushes: Manual, Oscillating, Sonic and Ultrasonic. Twenty-four people were recruited to participate in the study. Each person was assigned to use one of the 4 toothbrush types. After using the toothbrush, the total percent surface area of the teeth with plaque for each person was recorded. Here are the data.</p>
<p><a href="javascript:showhide('toothbrushBF1')"><span style="font-size:8pt;">click to show/hide data</span></a></p>
<div id="toothbrushBF1">
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 19%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">PersonID</th>
<th style="text-align: center;">Brush</th>
<th style="text-align: center;">Plaque</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">32.74</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">24.21</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">22.09</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">21.6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">21.45</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">23.31</td>
</tr>
<tr class="odd">
<td style="text-align: center;">7</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">19.87</td>
</tr>
<tr class="even">
<td style="text-align: center;">8</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">23.81</td>
</tr>
<tr class="odd">
<td style="text-align: center;">9</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">19.12</td>
</tr>
<tr class="even">
<td style="text-align: center;">10</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">23.4</td>
</tr>
<tr class="odd">
<td style="text-align: center;">11</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">24.39</td>
</tr>
<tr class="even">
<td style="text-align: center;">12</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">23.42</td>
</tr>
<tr class="odd">
<td style="text-align: center;">13</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">21.27</td>
</tr>
<tr class="even">
<td style="text-align: center;">14</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">15</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">18.56</td>
</tr>
<tr class="even">
<td style="text-align: center;">16</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">26.88</td>
</tr>
<tr class="odd">
<td style="text-align: center;">17</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">24.21</td>
</tr>
<tr class="even">
<td style="text-align: center;">18</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">25.58</td>
</tr>
<tr class="odd">
<td style="text-align: center;">19</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">23.35</td>
</tr>
<tr class="even">
<td style="text-align: center;">20</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">17.62</td>
</tr>
<tr class="odd">
<td style="text-align: center;">21</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">18.99</td>
</tr>
<tr class="even">
<td style="text-align: center;">22</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">25.67</td>
</tr>
<tr class="odd">
<td style="text-align: center;">23</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">23.09</td>
</tr>
<tr class="even">
<td style="text-align: center;">24</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">21.72</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>When analyzing our data we will want to compare the averages for each toothbrush type. We can group observations together that used the same type of brush and then calculate the average of the group. The figure below shows observations for each type of toothbrush grouped into columns.</p>
<p><img src="images/toothbrush_factor_column.JPG" class="img-fluid" width="360"></p>
<p>To compute the mean for the manual toothbrush I would sum together the observation for manual and divide by 6 (the number of pieces of information in that factor level):</p>
<p><span id="eq-manual-mean"><span class="math display">\[
\bar{y}_\text{manual} = \frac{19.12 + 24.21 + 26.88 + 21.6 + 23.4 + 23.35}{6} = 23.09
\tag{1}\]</span></span></p>
<p>I can likewise compute the mean for the other factor levels and display them:</p>
<p><img src="images/toothbrush_factor_means.JPG" id="toothbrush_factor_means" class="img-fluid" width="389"></p>
<p>We can think of a factor as a meaningful way of grouping, or partitioning, the data set. Of course, there are many, many more ways I could have grouped the observations; but the averages of those groups would not result in anything meaningful.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Factors and Factor Levels
</div>
</div>
<div class="callout-body-container callout-body">
<p>Each unique way of partitioning the data set into meaningful groups of observations is considered a factor. Each individual partition (or group) is a factor level. In a given factor, each observation belongs to exactly one group.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><em>The column orientation is not considered a distinct factor from a row-wise grouping (shown below) since the method for drawing the partitions is the same: splitting by toothbrush type. The key is that after choosing an orientation (row vs.&nbsp;column) you should be consistent in how you represent it throughout your analysis.</em></p>
<p><img src="images/toothbrush_factor_row.JPG" class="img-fluid" width="476"></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Factors in Design vs.&nbsp;Analysis
</div>
</div>
<div class="callout-body-container callout-body">
<p>It is important to note, that use of the word “factor” here is different from (albeit related to) the way it is used in the principles of experimental design section of the book. In that section of the book the variables that are purposefully varied and assigned to subjects are referred to as factors. That section of the book deals strictly with <em>design.</em> But when doing the <em>analysis</em> of the resulting data, this new definition of factor (a meaningful way to group observations) is used. Later we will formally define a mathematical model to aid in our analysis. In our model, each of these analysis factors will be represented by a separate term in the model. Thus, some of the confusion may decrease because we can refer to terms in a model and reserve the word “factor” primarily to refer to an experiment’s design.</p>
</div>
</div>
<p>Remember that in this example, a lower number represents less plaque; and so a lower number is interpreted as better. The oscillating brush has the lowest mean of the plaque measurement.</p>
<p>When more than one variable is manipulated in an experiment we will have multiple ways to meaningfully group observations. If, in addition to toothbrush, we wanted to simultaneously assess the impact of two different brands of toothpaste, our data set could look like this:</p>
<p><a href="javascript:showhide('toothbrushBF2')"><span style="font-size:8pt;">click to show/hide data</span></a></p>
<div id="toothbrushBF2">
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 19%">
<col style="width: 18%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">PersonID</th>
<th style="text-align: center;">Brush</th>
<th style="text-align: center;">Toothpaste</th>
<th style="text-align: center;">Plaque</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">32.74</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">24.21</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">22.09</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">21.6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">21.45</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">23.31</td>
</tr>
<tr class="odd">
<td style="text-align: center;">7</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">19.87</td>
</tr>
<tr class="even">
<td style="text-align: center;">8</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">23.81</td>
</tr>
<tr class="odd">
<td style="text-align: center;">9</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">19.12</td>
</tr>
<tr class="even">
<td style="text-align: center;">10</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">23.4</td>
</tr>
<tr class="odd">
<td style="text-align: center;">11</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">24.39</td>
</tr>
<tr class="even">
<td style="text-align: center;">12</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">23.42</td>
</tr>
<tr class="odd">
<td style="text-align: center;">13</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">21.27</td>
</tr>
<tr class="even">
<td style="text-align: center;">14</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">15</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">18.56</td>
</tr>
<tr class="even">
<td style="text-align: center;">16</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">26.88</td>
</tr>
<tr class="odd">
<td style="text-align: center;">17</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">24.21</td>
</tr>
<tr class="even">
<td style="text-align: center;">18</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">25.58</td>
</tr>
<tr class="odd">
<td style="text-align: center;">19</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">23.35</td>
</tr>
<tr class="even">
<td style="text-align: center;">20</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">17.62</td>
</tr>
<tr class="odd">
<td style="text-align: center;">21</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">NameBrand</td>
<td style="text-align: center;">18.99</td>
</tr>
<tr class="even">
<td style="text-align: center;">22</td>
<td style="text-align: center;">Ultrasonic</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">25.67</td>
</tr>
<tr class="odd">
<td style="text-align: center;">23</td>
<td style="text-align: center;">Sonic</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">23.09</td>
</tr>
<tr class="even">
<td style="text-align: center;">24</td>
<td style="text-align: center;">Oscillating</td>
<td style="text-align: center;">OffBrand</td>
<td style="text-align: center;">21.72</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>In this new example, two different variables are randomly assigned to subjects. This means there is more than just one meaningful way to group, or partition, the observations.</p>
<div class="column-page">
<div id="toothbrush_bf2_data_factors" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/toothbrush_bf2_data_factors.JPG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">3 Different Ways to Partition Observations</figcaption>
</figure>
</div>
</div>
<p>Though we only varied 2 variables in the experiment (toothbrush and toothpaste) there is a third way to group observations that will lead to insightful means. In other words, a less obvious, hidden factor exists. This third factor is a grouping of observations by the combination of toothbrush and toothpaste. This is called an interaction factor. Stated more generally, <strong>an interaction factor can be obtained by grouping observations by factor level combinations.</strong></p>
<p>So far, we have identified 3 factors for analysis: toothbrush type, toothpaste brand, and their interaction. There are two other meaningful ways to group the observations. These two factors are present in all designs and are given special names: the grand mean and the residual error.</p>
<p>The <strong>grand mean factor</strong> is a result of grouping all observations together in one. The grand mean factor has just one level. The grand mean’s value is, unsurprisingly, the mean of all the data points together.</p>
<p>At the other extreme, you may be interested in comparing individual datapoints. In this case, each observation belongs to its own group. The mean of each data point is simply itself. This grouping is referred to as the <strong>residual error factor</strong>. The number of levels of the residual error factor is equal to the number of observations in the dataset.</p>
<div class="column-page">
<div id="toothbrush_bf2_factor_structure" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/toothbrush_bf2_factor_structure.JPG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Factor Structure Diagram</figcaption>
</figure>
</div>
</div>
<p>Because the grand mean and residual error factors are present in all designs, they are referred to as <strong>universal factors</strong>. The factors for toothbrush type, toothpaste and their interaction are called structural factors. Because the <strong>structural factors are the result of the variables you deliberately vary in your experiment</strong> they are helpful when comparing designs. Changing your design will change the make-up of your structural factors.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>The way of organizing data that is taught here and used throughout the book is NOT how you will want to layout/structure your data for analysis using software or even for recording/collecting data. The purpose is to facilitate understanding of how the design relates to the analysis and how the mechanics of an ANOVA model work.</p>
</div>
</div>
</section>
<section id="describing-factor-relationships" class="level1 page-columns page-full">
<h1>Describing Factor Relationships</h1>
<p>A factor structure for an experimental design can help provide an effective way to plan for and organize the data in an experiment. Having a factor structure can help us determine the degrees of freedom and the effects of each factor. Factor effects and degrees of freedom are key components in an analysis of variance and are explained in more detail in the <a href="./Anova_F-test.html">ANOVA and the F-test</a> page under “Broad Topics”. Don’t worry if you don’t know exactly what they mean yet. For now it is enough to know that identifying how factors are related to one another and using factor diagrams will allow us to come up with simple, general rules for calculating these quantities later on.</p>
<p>Each factor can either be inside of, outside of, or crossed with another factor. (A factor can also be nested within another factor, but we will save that explanation for the Split Plot/Repeated Measure design).</p>
<section id="inside-and-outside" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="inside-and-outside">Inside and Outside</h2>
<p>Think about our toothbrush example, but ignore toothpaste for a moment. If toothbrush is the only treatment under scrutiny we have three factors in the analysis: the grand mean, toothbrush type, and the residual error.</p>
<p>Recall that in the simplest version of the toothbrush experiment there were 4 levels of the treatment (toothbrush type), with six replicates for each toothbrush. In the following factor structure diagrams grand mean is represented in red, toothbrush type is drawn in blue, and the residual factor levels are depicted in black.</p>
<div class="column-page">
<p><img src="images/toothbrush_bf1_colored_factors.JPG" id="toothbrush_bf1_colored_factors" class="img-fluid"></p>
</div>
<p>A factor is inside of another factor if all the levels of one factor (<strong>the inside factor</strong>) completely fit within a second factor (<strong>the outside factor</strong>).</p>
<p>You may find this analogy helpful. Pretend that an outside factor is a box, and the inside factor levels are blocks that fit neatly within the box.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/wooden_blocks_in_box.jpg" class="img-fluid figure-img" width="203"></p>
</figure>
</div>
<p>To determine if a factor is inside another factor, imagine picking up the levels of the factor one by one and placing them inside the other factor. If they all fit without crossing the partition lines of a factor,then it is considered inside.</p>
<p>This is illustrated with the toothbrush example. We will start by taking the levels of toothbrush and placing them inside of grand mean</p>
<div id="fig-treatment-to-benchmark" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/inside_outside_2.JPG" class="img-fluid figure-img"></p>
</figure>
</div>
<p>In the figure above you can see that one entire level of toothbrush can fit inside of a single level of benchmark. Even though they may share a boundary line, the toothbrush level does not cross over any lines or start sharing boundaries with any other level of benchmark (this is of course impossible since benchmark only has one level). You can repeat this for the other 3 levels of toothbrush with the same result. Therefore, we say that toothbrush is inside of benchmark, which is the same as saying that benchmark is outside of toothbrush.</p>
<p>Consider now the relationship between toothbrush and residual as shown below. If we take a level of toothbrush and overlay it on the residual factor, we can see it does not fit neatly inside one of the levels of residual error. In fact, one level of toothbrush crosses the boundaries of many of the levels of residual error. Therefore, we cannot say that toothbrush is inside of residual error.</p>
<div id="treatment-to-residual" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/inside_outside_3.JPG" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Since toothbrush is <em>not inside</em> of residual error, does this necessarily mean that toothbrush is <em>outside</em> of residual error? No! This is something that has to be checked. To determine whether toothbrush is outside of residual we must take the levels of residual error one at a time and overlay them on the toothbrush factor structure, as shown below. You can see that one level of residual error does NOT cross any of the toothbrush level boundaries. Therefore, toothbrush is indeed outside of residual error; or equivalently, residual error is inside of toothbrush.</p>
<div id="residual-to-treatment" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/inside_outside_4.JPG" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Let’s pause here to clarify a common misunderstanding. Consider an experiment where we are looking at the inside vs.&nbsp;outside relationship of two factors: A and B.</p>
<ul>
<li>When factor A is inside of factor B, we can also say factor B is outside of factor A.</li>
<li>But, when factor A is not inside of factor B, this does <em>not necessarily mean that factor A is outside of factor B</em>. There are situations where two factors are neither inside nor outside of each other; they are crossed.</li>
</ul>
</section>
<section id="crossed-factors" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="crossed-factors">Crossed Factors</h2>
<p>Two factors are crossed when their partition lines cross in a way that creates new groups of observations that represent every possible combination of the factor levels. More succinctly stated, <strong>factors are crossed when all factor level combinations are present in the study</strong>. We see this type of relationship in the toothbrush study with two controlled factors: toothbrush type (4 levels) and toothpaste brand (2 levels). Toothbrush and toothpaste are neither inside nor outside of each other; rather, they are crossed.</p>
<div id="crossed-interaction" class="column-page quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/toothbrush_crossed1.JPG" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/toothbrush_crossed2.JPG" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
<p>The crossing of toothpaste brand and toothbrush created an interaction factor.</p>
<div class="column-page">
<p><img src="images/toothbrush_crossed_interaction.JPG" class="img-fluid"></p>
</div>
<p>When two factors are crossed, the resulting (interaction) factor’s levels will always be <em>inside</em> of each of the factors that was crossed to create it. This fact is illustrated below for the toothbrush factor and could similarly be shown for toothpaste brand factor.</p>
<div class="column-page">
<p><img src="images/interaction_levels_inside.PNG" class="img-fluid"></p>
</div>
</section>
</section>
<section id="general-rules" class="level1">
<h1>General Rules</h1>
<p>It was mentioned at the beginning of the section that understanding inside and outside factors would help us arrive at a general rule for calculating effect sizes and degrees of freedom. We have not yet defined an effect size or degree of freedom so the following general rules may not mean a lot to you now. However, you will find them quite helpful later. The section on <a href="./effects_model.html">Effects Model</a> and <a href="./Anova_F-test.html">ANOVA</a> will help explain why these rules are true; but for now, you will have to take it on faith.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
General Rule for Effect Size
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[
\text{Effect Size} = \text{Factor level mean} - \text{sum of effects of all outside factors}
\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
General Rule for Degrees of Freedom
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[
\text{Degrees of freedom} = \text{Total levels of a factor} - \text{sum of degrees of freedom of all outside factors}
\]</span></p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>